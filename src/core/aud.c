#ifndef AUD_C
#define AUD_C
AUD_C

#include "src/util.c"

////////////////////////////////////////////////////////////////////////////////
//////////////////////////////// API DECL //////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

typedef struct {
    u32 placeholder;
} aud_InitArg;
typedef enum { aud_InitRet_OK, aud_InitRet_MAP_INVALID } aud_InitRet;
static aud_InitRet aud_Init(aud_InitArg arg);

////////////////////////////////////////////////////////////////////////////////
///////////////////////////// INTERNAL IMPL ////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
////////////////////////////// API IMPL ////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

struct aud__State {
    u32 placeholder;
    // pool_t
} static aud__state = {0};

/*
 * Initialise the audio module. 
 *
 * @param args - initialisation arguments.
*/
static aud_InitRet aud_Init(aud_InitArg args)
{
    aud__state.placeholder = 1;
    return (args.placeholder) ? aud_InitRet_OK : aud_InitRet_MAP_INVALID;
}

////////////////////////////////////////////////////////////////////////////////
/////////////////////////////// UTEST IMPL /////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
#ifdef UTEST_AUD

static void utest_aud_Untested(void)
{
    aud_Init((aud_InitArg){0});
}

#ifdef UTEST
static void utest_aud_Main(void)
{
    // setup logger
    util_SetLogCallback(utest_util_PrintfLoggerCallback);
    util_SetPanicCallback(utest_util_DoNothing);
    utest_aud_Untested();
}

i32 main(void)
{
    utest_aud_Main();
    return 0;
}
#endif // UTEST
#endif // UTEST_AUD
#endif // AUD_C
